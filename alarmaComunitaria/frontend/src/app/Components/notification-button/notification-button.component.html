<div class="notification-button-container" style="background: linear-gradient(135deg, var(--dark-800), var(--primary-300)); border-radius: 16px; box-shadow: 0 4px 24px var(--primary-900); padding: 1rem;">
  <!-- Botón principal con badge -->
  <div class="notification-trigger">
    <button
      class="notification-btn"
      (click)="toggleForm()"
      [class.connected]="isConnected"
      [class.disconnected]="!isConnected"
      [disabled]="isSending">
      <span class="btn-icon">📢</span>
      <span class="btn-text">Enviar Alerta</span>
      <!-- Badge de notificaciones no leídas -->
      <span
        class="notification-badge"
        *ngIf="showBadge && unreadCount > 0"
        [class.pulse]="unreadCount > 0">
        {{ unreadCount > 99 ? '99+' : unreadCount }}
      </span>
      <!-- Indicador de conexión -->
      <span
        class="connection-indicator"
        [class.connected]="isConnected"
        [class.disconnected]="!isConnected">
        {{ isConnected ? '●' : '○' }}
      </span>
    </button>
  </div>
</div>
